{% if page.datatable == true %}
<script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-3.7.1.js"></script>
<!-- Include the standard DataTables bits -->
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/2.2.1/css/dataTables.dataTables.min.css">
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/2.2.1/js/dataTables.min.js"></script>
<!-- First, this walks through the tables that occur between ...-begin
        and ...-end and add the "datatable" class to them.
        Then it invokes DataTable's standard initializer
        Credit here: http://www.beardedhacker.com/blog/2015/08/28/add-class-attribute-to-markdown-table/
    -->
<script>
    $(document).ready(function(){
        $('div.datatable-begin').nextUntil('div.datatable-end').children('table').addClass('display');
        $('table.display').DataTable( {
            paging: true,
            stateSave: true,
            searching: true
        });
    });
</script>
{% endif %}